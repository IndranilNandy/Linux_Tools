#!/bin/bash

#Check if all prerequisites are installed, and install the missing ones
prereq --install ".prereq"

# Exit if still missing any prerequisite
[[ $(prereq --missing ".prereq") ]] && echo -e "${RED}One or more prerequisites are still missing. Exiting.${RESET}" && exit 0

# Check if it is already installed
replacement='GRUB_CMDLINE_LINUX_DEFAULT="quiet splash video=hyperv_fb:1920x1080"';
[[ $(sudo cat "/etc/default/grub" | grep "$replacement") ]] && echo -e "${GREEN}[display] Already configured. Exiting.${RESET}" && exit 0

echo -e "${YELLOW}[display] Setup process started.${GREEN}"

./display_settings_configurer.sh
echo -e "${GREEN}[display] Setup finished.${GREEN}"
