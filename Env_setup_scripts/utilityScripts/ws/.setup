#!/bin/bash

# Insert entry of this tool in .allTools. This is to be used in the verification stage post setup.
grep -q "ws:" ../../../_verify/.allTools || echo "ws:ws" >>../../../_verify/.allTools

#Check if all prerequisites are installed, and install the missing ones
prereq --install ".prereq"

# Exit if still missing any prerequisite
[[ $(prereq --missing ".prereq") ]] && echo -e "${RED}One or more prerequisites are still missing. Exiting.${RESET}" && exit 0

# Check if it is already installed
[[ -n $(which ws) ]] && echo -e "\n${GREEN}[ws] Already installed. Exiting.${RESET}" && exit 0

echo -e "${YELLOW}[ws] Setup started${RESET}"

# yes | sudo ln -s -i "$(pwd)"/workspace_setup.sh "$MYCOMMANDSREPO"/ws
myscriptref --create workspace_setup.sh "$HOME"/MyTools/Linux_Tools/Env_setup_scripts/utilityScripts/ws ws
mycompl -W \"--config --clone --list --load --status --help\" ws

echo -e "${YELLOW}[ws] Setup completed.${RESET}"