{
	// Place your snippets for dockerfile here. Each snippet is defined under a snippet name and has a prefix, body and
	// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:
	// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the
	// same ids are connected.
	// Example:
	// "Print to console": {
	// 	"prefix": "log",
	// 	"body": [
	// 		"console.log('$1');",
	// 		"$2"
	// 	],
	// 	"description": "Log output to console"
	// }
	// *****************************************************************************
	// [ROOT] SAMPLE DOCKERFILES
	// *****************************************************************************
	"simple dockerfile for springboot using layers": {
        "prefix": [
			"[snp] simple dockerfile for springboot using layers",
			"[springboot][layertools] simple dockerfile",
		],
        "body": [
            "FROM eclipse-temurin:17-jre AS builder",
            "WORKDIR /extractdir",
            "ARG JAR_FILE=./build/libs/*-SNAPSHOT.jar",
            "ADD \\${JAR_FILE} app.jar",
            "RUN java -Djarmode=layertools -jar app.jar extract",
            "",
            "FROM eclipse-temurin:17-jre",
            "RUN addgroup --system spring && adduser --ingroup spring spring",
            "USER spring:spring",
            "WORKDIR /application",
            "VOLUME [ \"/tmp\" ]",
            "COPY --from=builder /extractdir/dependencies ./",
            "COPY --from=builder /extractdir/spring-boot-loader ./",
            "COPY --from=builder /extractdir/snapshot-dependencies ./",
            "COPY --from=builder /extractdir/application ./",
            "EXPOSE 8080",
            "ENTRYPOINT [ \"java\", \"org.springframework.boot.loader.JarLauncher\" ]"
        ],
        "description": "simple dockerfile for springboot using layers"
    },
    "Sample1 - Basic Dockerfile": {
        "prefix": [
			"[snp] sample1 - basic dockerfile",
			"[dockerfile] sample1 - basic dockerfile",
			"[java] sample1 - basic dockerfile",
			"[springboot] sample1 - basic dockerfile",
		],
        "body": [
            "# [[<TAG>]][[SNP]]",
            "",
            "#   Ref: https://spring.io/guides/topicals/spring-boot-docker\"",
            "",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "# ------------------",
            "# USAGE:",
            "# ------------------",
            "#   * Use it mainly for Java projects (NOT for Spring Boot projects)",
            "#   * Use it when all you want is just a basic dockerfile to copy the entire fat jar to the docker image",
            "# ------------------",
            "# PREREQ:",
            "# ------------------",
            "#   * Build script should have task for creating fat jar",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "# ------------------",
            "# PROJECT STRUCTURE:",
            "# ------------------",
            "# RootProject",
            "#\t\t   |__ gradlew",
            "#\t\t   |__ settings.gradle",
            "#\t\t   |__ .gradle",
            "#\t\t   |__ app (<-- MODULE)",
            "#\t\t\t\t\t\t\t   |__ this dockerfile",
            "#\t\t\t\t\t\t\t   |__ build.gradle",
            "#\t\t\t\t\t\t\t   |__ src (SOURCE folder)",
            "#\t\t\t\t\t\t\t   |__ build",
            "#\t\t\t\t\t\t\t\t\t\t\t|__ libs",
            "#\t\t\t\t\t\t\t\t\t\t\t\t\t|__ all-in-one-jar.jar (fat jar created using 'customFatJar' task)",
            "# [[</TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<EXECUTION>>]]",
            "# ------------------",
            "# Sample instructions:",
            "# ------------------",
            "#   * Build the fat jar, using 'gradle customFatJar' task",
            "#   * docker build --build-arg JAR_FILE=build/libs/all-in-one-jar.jar -t myorg/myapp:v1 -f <dockerfile> .",
            "#   * docker run --mount type=bind,src=\"\\$(pwd)\"/temp_volume,target=/application/logs myorg/myapp:v1",
            "# [[</TAG>]][[SNP]][[<<EXECUTION>>]]",
            "",
            "# [[</TAG>]][[SNP]]",
            "# _________________________________________________________________________________________________",
            "",
            "FROM eclipse-temurin:17-jre",
            "VOLUME [ \"/tmp\" ]",
            "WORKDIR /application",
            "ARG JAR_FILE=./build/libs/all-in-one-jar.jar",
            "COPY \\${JAR_FILE} app.jar",
            "ENTRYPOINT [ \"java\", \"-jar\", \"app.jar\" ]",
            "# _________________________________________________________________________________________________"
        ],
        "description": "Sample1 - Basic Dockerfile"
    },
    "Sample2 - Java(layered) Dockerfile": {
        "prefix": [
			"[snp] sample2 - java(layered) dockerfile",
			"[dockerfile] sample2 - java(layered) dockerfile",
			"[java] sample2 - java(layered) dockerfile",
		],
        "body": [
            "# [[<TAG>]][[SNP]]",
            "",
            "#   Ref: https://spring.io/guides/topicals/spring-boot-docker\"",
            "",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "# ------------------",
            "# USAGE:",
            "# ------------------",
            "#   * Use it for Java projects (NOT for Spring Boot projects)",
            "#   * Use it when you",
            "#\t\t\t\t\t   - build your jar and fat jar on your host machine, and t",
            "#\t\t\t\t\t   - extract the fat jar locally on your host machine using the script 'jar_layered_extracter.sh' to create layers",
            "#\t\t\t\t\t   - and transfer the layers to the docker image",
            "# ------------------",
            "# PREREQ:",
            "# ------------------",
            "#   * Build script should have task for creating fat jar",
            "#   * You should use the script 'jar_layered_extracter.sh' to extract and create layers",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "# ------------------",
            "# PROJECT STRUCTURE:",
            "# ------------------",
            "# RootProject",
            "#\t\t   |__ gradlew",
            "#\t\t   |__ settings.gradle",
            "#\t\t   |__ .gradle",
            "#\t\t   |__ app (<-- MODULE)",
            "#\t\t\t\t\t\t\t   |__ this dockerfile",
            "#\t\t\t\t\t\t\t   |__ build.gradle",
            "#\t\t\t\t\t\t\t   |__ jar_layered_extracter.sh",
            "#\t\t\t\t\t\t\t   |__ extracted",
            "#\t\t\t\t\t\t\t\t\t\t\t|__ app (fat jar extracted here in layers using 'jar_layered_extracter.sh' script)",
            "#\t\t\t\t\t\t\t   |__ src (SOURCE folder)",
            "#\t\t\t\t\t\t\t   |__ build",
            "#\t\t\t\t\t\t\t\t\t\t\t|__ libs",
            "#\t\t\t\t\t\t\t\t\t\t\t\t\t|__ all-in-one-jar.jar (fat jar created using 'customFatJar' task)",
            "# [[</TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<EXECUTION>>]]",
            "# ------------------",
            "# Sample instructions:",
            "# ------------------",
            "#   * Build the fat jar, using 'gradle customFatJar' task",
            "#   * Extract it in layers using 'jar_layered_extracter.sh' script",
            "#   * docker build --build-arg EXTRACTED_JAR=extracted/app -t myorg/myapp:v1 -f <dockerfile> .",
            "#   * docker run --mount type=bind,src=\"\\$(pwd)\"/temp_volume,target=/application/logs myorg/myapp:v1",
            "# [[</TAG>]][[SNP]][[<<EXECUTION>>]]",
            "",
            "# [[</TAG>]][[SNP]]",
            "# _________________________________________________________________________________________________",
            "",
            "FROM eclipse-temurin:17-jre",
            "VOLUME [ \"/tmp\" ]",
            "WORKDIR /application",
            "ARG EXTRACTED_JAR=extracted/app",
            "",
            "COPY \\${EXTRACTED_JAR}/libs app/libs",
            "COPY \\${EXTRACTED_JAR}/rs app/rs",
            "COPY \\${EXTRACTED_JAR}/META-INF app/META-INF",
            "COPY \\${EXTRACTED_JAR}/classes app/classes",
            "",
            "ENTRYPOINT [ \"java\", \"-cp\", \"app:app/libs/:app/classes/:app/rs/\", \"com.example.App\" ]",
            "# _________________________________________________________________________________________________"
        ],
        "description": "Sample2 - Java(layered) Dockerfile"
    },
    "Sample3 - Java(layered+multi-stage) Dockerfile": {
        "prefix": [
			"[snp] sample3 - java(layered+multi-stage) dockerfile",
			"[dockerfile] sample3 - java(layered+multi-stage) dockerfile",
			"[java] sample3 - java(layered+multi-stage) dockerfile",
		],
        "body": [
            "# [[<TAG>]][[SNP]]",
            "",
            "#   Ref: https://spring.io/guides/topicals/spring-boot-docker\"",
            "",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "# ------------------",
            "# USAGE:",
            "# ------------------",
            "#   * Use it for Java projects (NOT for Spring Boot projects)",
            "#   * Use it for Multi-stage build when you want to do 'gradle build' and creating fat jar in docker.",
            "# ------------------",
            "# PREREQ:",
            "# ------------------",
            "#   * Build script should have task for creating fat jar",
            "#   * You should use the script 'jar_layered_extracter.sh' to extract and create layers",
            "#   * BuildKit should be enabled (Ref: https://docs.docker.com/build/buildkit/#getting-started)",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "# ------------------",
            "# PROJECT STRUCTURE:",
            "# ------------------",
            "# RootProject",
            "#\t\t   |__ this dockerfile",
            "#\t\t   |__ gradlew",
            "#\t\t   |__ settings.gradle",
            "#\t\t   |__ .gradle",
            "#\t\t   |__ app (<-- MODULE)",
            "#\t\t\t\t\t\t\t   |__ build.gradle",
            "#\t\t\t\t\t\t\t   |__ jar_layered_extracter.sh",
            "#\t\t\t\t\t\t\t   |__ src (SOURCE folder)",
            "# [[</TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<EXECUTION>>]]",
            "# ------------------",
            "# Sample instructions:",
            "# ------------------",
            "#   * DOCKER_BUILDKIT=1 docker build --build-arg MODULE=app -t myorg/myapp:v1 -f <dockerfile> .",
            "#   * docker run --mount type=bind,src=\"\\$(pwd)\"/temp_volume,target=/application/logs myorg/myapp:v1",
            "# [[</TAG>]][[SNP]][[<<EXECUTION>>]]",
            "",
            "# [[</TAG>]][[SNP]]",
            "# _________________________________________________________________________________________________",
            "",
            "FROM eclipse-temurin:17-jdk-alpine AS build",
            "WORKDIR /workspace/application",
            "",
            "COPY . /workspace/application",
            "RUN --mount=type=cache,target=/root/.gradle ./gradlew clean customFatJar",
            "ARG MODULE=app",
            "RUN (cd \\${MODULE} && chmod +x jar_layered_extracter.sh && ./jar_layered_extracter.sh)",
            "# _________________________________________________________________________________________________",
            "",
            "FROM eclipse-temurin:17-jre-alpine",
            "VOLUME /tmp",
            "WORKDIR /application",
            "",
            "ARG MODULE=app",
            "ARG EXTRACTED_JAR=/workspace/application/\\${MODULE}/extracted/app",
            "",
            "COPY --from=build \\${EXTRACTED_JAR}/libs app/libs",
            "COPY --from=build \\${EXTRACTED_JAR}/rs app/rs",
            "COPY --from=build \\${EXTRACTED_JAR}/META-INF app/META-INF",
            "COPY --from=build \\${EXTRACTED_JAR}/classes app/classes",
            "",
            "ENTRYPOINT [\"java\",\"-cp\",\"app:app/libs/:app/classes/:app/rs/\",\"com.example.App\"]",
            "# _________________________________________________________________________________________________",
        ],
        "description": [
            "Sample3 - Java(layered+multi-stage) Dockerfile\n",
            "#   * Use it for Java projects (NOT for Spring Boot projects)\n",
            "#   * Use it for Multi-stage build when you want to do 'gradle build' and creating fat jar in docker\n",
        ],
    },
	// *****************************************************************************
	// [NON-ROOT] SAMPLE DOCKERFILES
	// *****************************************************************************
    "Sample4 - [NON-ROOT]Basic Dockerfile": {
        "prefix": [
			"[snp] sample4 - [non-root]basic dockerfile",
			"[dockerfile] sample4 - [non-root]basic dockerfile",
			"[java] sample4 - [non-root]basic dockerfile",
			"[springboot] sample4 - [non-root]basic dockerfile",
		],
        "body": [
            "# [[<TAG>]][[SNP]]",
            "",
            "#   Ref: https://spring.io/guides/topicals/spring-boot-docker\"",
            "",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "# ------------------",
            "# USAGE:",
            "# ------------------",
            "#   * Use it as a NON-ROOT user.",
            "#   * Use it mainly for Java projects (NOT for Spring Boot projects)",
            "#   * Use it when all you want is just a basic dockerfile to copy the entire fat jar to the docker image",
            "# ------------------",
            "# PREREQ:",
            "# ------------------",
            "#   * Build script should have task for creating fat jar",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "# ------------------",
            "# PROJECT STRUCTURE:",
            "# ------------------",
            "# RootProject",
            "#\t\t   |__ gradlew",
            "#\t\t   |__ settings.gradle",
            "#\t\t   |__ .gradle",
            "#\t\t   |__ app (<-- MODULE)",
            "#\t\t\t\t\t\t\t   |__ this dockerfile",
            "#\t\t\t\t\t\t\t   |__ build.gradle",
            "#\t\t\t\t\t\t\t   |__ src (SOURCE folder)",
            "#\t\t\t\t\t\t\t   |__ build",
            "#\t\t\t\t\t\t\t\t\t\t\t|__ libs",
            "#\t\t\t\t\t\t\t\t\t\t\t\t\t|__ all-in-one-jar.jar (fat jar created using 'customFatJar' task)",
            "# [[</TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<EXECUTION>>]]",
            "# ------------------",
            "# Sample instructions:",
            "# ------------------",
            "#   * Build the fat jar, using 'gradle customFatJar' task",
            "#   * docker build --build-arg JAR_FILE=build/libs/all-in-one-jar.jar -t myorg/myapp:v1 -f <dockerfile> .",
            "#   * docker run --mount type=bind,src=\"\\$(pwd)\"/temp_volume,target=/application/logs myorg/myapp:v1",
            "# [[</TAG>]][[SNP]][[<<EXECUTION>>]]",
            "",
            "# [[</TAG>]][[SNP]]",
            "# _________________________________________________________________________________________________",
            "",
            "FROM eclipse-temurin:17-jre",
            "",
            "RUN addgroup --gid 7070 -S devguest && adduser --uid 7070 -S devguest -G devguest",
            "USER devguest",
            "",
            "VOLUME [ \"/tmp\" ]",
            "WORKDIR /application",
            "ARG JAR_FILE=./build/libs/all-in-one-jar.jar",
            "COPY \\${JAR_FILE} app.jar",
            "ENTRYPOINT [ \"java\", \"-jar\", \"app.jar\" ]",
            "# _________________________________________________________________________________________________"
        ],
        "description": "Sample4 - [NON-ROOT]Basic Dockerfile"
    },
    "Sample5 - [NON-ROOT]Java(layered) Dockerfile": {
        "prefix": [
			"[snp] sample5 - [non-root]java(layered) dockerfile",
			"[dockerfile] sample5 - [non-root]java(layered) dockerfile",
			"[java] sample5 - [non-root]java(layered) dockerfile",
		],
        "body": [
            "# [[<TAG>]][[SNP]]",
            "",
            "#   Ref: https://spring.io/guides/topicals/spring-boot-docker\"",
            "",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "# ------------------",
            "# USAGE:",
            "# ------------------",
            "#   * Use it as a NON-ROOT user.",
            "#   * Use it for Java projects (NOT for Spring Boot projects)",
            "#   * Use it when you",
            "#\t\t\t\t\t   - build your jar and fat jar on your host machine, and t",
            "#\t\t\t\t\t   - extract the fat jar locally on your host machine using the script 'jar_layered_extracter.sh' to create layers",
            "#\t\t\t\t\t   - and transfer the layers to the docker image",
            "# ------------------",
            "# PREREQ:",
            "# ------------------",
            "#   * Build script should have task for creating fat jar",
            "#   * You should use the script 'jar_layered_extracter.sh' to extract and create layers",
            "# [[<TAG>]][[SNP]][[<<USAGE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "# ------------------",
            "# PROJECT STRUCTURE:",
            "# ------------------",
            "# RootProject",
            "#\t\t   |__ gradlew",
            "#\t\t   |__ settings.gradle",
            "#\t\t   |__ .gradle",
            "#\t\t   |__ app (<-- MODULE)",
            "#\t\t\t\t\t\t\t   |__ this dockerfile",
            "#\t\t\t\t\t\t\t   |__ build.gradle",
            "#\t\t\t\t\t\t\t   |__ jar_layered_extracter.sh",
            "#\t\t\t\t\t\t\t   |__ extracted",
            "#\t\t\t\t\t\t\t\t\t\t\t|__ app (fat jar extracted here in layers using 'jar_layered_extracter.sh' script)",
            "#\t\t\t\t\t\t\t   |__ src (SOURCE folder)",
            "#\t\t\t\t\t\t\t   |__ build",
            "#\t\t\t\t\t\t\t\t\t\t\t|__ libs",
            "#\t\t\t\t\t\t\t\t\t\t\t\t\t|__ all-in-one-jar.jar (fat jar created using 'customFatJar' task)",
            "# [[</TAG>]][[SNP]][[<<PROJECT_STRUCTURE>>]]",
            "",
            "# [[<TAG>]][[SNP]][[<<EXECUTION>>]]",
            "# ------------------",
            "# Sample instructions:",
            "# ------------------",
            "#   * Build the fat jar, using 'gradle customFatJar' task",
            "#   * Extract it in layers using 'jar_layered_extracter.sh' script",
            "#   * docker build --build-arg EXTRACTED_JAR=extracted/app -t myorg/myapp:v1 -f <dockerfile> .",
            "#   * docker run --mount type=bind,src=\"\\$(pwd)\"/temp_volume,target=/application/logs myorg/myapp:v1",
            "# [[</TAG>]][[SNP]][[<<EXECUTION>>]]",
            "",
            "# [[</TAG>]][[SNP]]",
            "# _________________________________________________________________________________________________",
            "",
            "FROM eclipse-temurin:17-jre",
            "",
            "RUN addgroup --gid 7070 -S devguest && adduser --uid 7070 -S devguest -G devguest",
            "USER devguest",
            "",
            "VOLUME [ \"/tmp\" ]",
            "WORKDIR /application",
            "ARG EXTRACTED_JAR=extracted/app",
            "",
            "COPY \\${EXTRACTED_JAR}/libs app/libs",
            "COPY \\${EXTRACTED_JAR}/rs app/rs",
            "COPY \\${EXTRACTED_JAR}/META-INF app/META-INF",
            "COPY \\${EXTRACTED_JAR}/classes app/classes",
            "",
            "ENTRYPOINT [ \"java\", \"-cp\", \"app:app/libs/:app/classes/:app/rs/\", \"com.example.App\" ]",
            "# _________________________________________________________________________________________________"
        ],
        "description": "Sample5 - [NON-ROOT]Java(layered) Dockerfile"
    }
}